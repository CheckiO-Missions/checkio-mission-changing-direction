<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        <p>Je n'ai aucune id√©e de la mani√®re de commencer √† r√©soudre cette mission.</p>
    </div>
    <div class="answer">
        <p>
            üí° Vous devez trouver et marquer dans la liste tous les morceaux dont la direction reste la m√™me. Comme la direction change entre deux morceaux adjacents, le nombre de ces changements est le nombre de morceaux moins un.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Ok, par quoi dois-je commencer?</p>
    </div>
    <div class="answer">
        <p>
            La toute premi√®re √©tape consiste √† d√©clarer une variable <b class="code">dirs</b> avec la valeur initiale d'une liste vide. Vous devez y stocker vos marques pour les morceaux dont la direction est rest√©e inchang√©e. 
        </p>
        <pre class="brush: python">
dirs = []
        </pre>
        <p>
            Maintenant, pour trouver la direction (l'ordre) entre deux √©l√©ments, vous devez les comparer et r√©p√©ter l'op√©ration pour chaque paire adjacente: 0-i√®me avec 1-i√®me, 1-i√®me avec 2-i√®me, etc. Dans ce cas, la fonction int√©gr√©e <a target="_blank" href="https://www.w3schools.com/python/ref_func_zip.asp">zip()</a> est tr√®s utile! Elle permet d'it√©rer sur deux s√©quences ou plus et de prendre les √©l√©ments ayant le m√™me indice jusqu'√† la fin de la s√©quence la plus courte. 
        </p>
        <pre class="brush: python">
dirs = []
for i, j in zip(...):
    ...
        </pre>
        <p>
            O√π <b class="code">i</b> est chaque √©l√©ment de la premi√®re s√©quence, <b class="code">j</b> l'√©l√©ment avec l'index respectif de la deuxi√®me s√©quence (puisque vous comparez deux nombres, vous avez besoin de deux s√©quences).
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            Ok, quels √©l√©ments de quelles s√©quences dois-je comparer?
        </p>
    </div>
    <div class="answer">
        <p>
            R√©fl√©chissons. Comme je l'ai dit plus haut, vous devez comparer le 0e avec le 1er, le 1er avec le 2e, le 2e avec le 3e... La premi√®re s√©quence commence donc au d√©but de la liste initiale, mais la deuxi√®me s√©quence commence au 1er √©l√©ment de la liste initiale. 
        </p>
        <p>
            Pour recevoir la deuxi√®me s√©quence √† comparer comme liste initiale √† partir du premier √©l√©ment, utilisez <a target="_blank" href="https://railsware.com/blog/python-for-machine-learning-indexing-and-slicing-for-lists-tuples-strings-and-other-sequential-types/">slicing</a>.
        </p>
        <pre class="brush: python">
dirs = []
for i, j in zip(elements, elements[1:]):
    ...
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            Comment dois-je comparer les √©l√©ments?
        </p>
    </div>
    <div class="answer">
        <p>
            Voici une petite remarque que vous devez garder √† l'esprit. Pour cette solution, nous allons utiliser "+" pour l'ordre croissant des morceaux et "-" pour l'ordre d√©croissant. En r√©alit√©, vous pouvez utiliser deux symboles distincts.
        </p>
        <p>
            Disons <b class="code">j > i</b>, ce qui signifie, par exemple, que le premier √©l√©ment est plus grand que le z√©ro. Cela d√©termine un ordre croissant des √©l√©ments ("+"). Que devez-vous faire avec cela? S'il n'y a pas de direction stock√©e dans <b class="code">dirs</b> (vide: la toute premi√®re paire d'√©l√©ments est compar√©e ou les m√™mes √©l√©ments du d√©but de la liste initiale et l'ordre ne peut pas √™tre d√©termin√©) ou si la derni√®re direction stock√©e des √©l√©ments n'est pas ascendante ("-"), vous devez ajouter la nouvelle direction actuelle √† <b class="code">dirs</b>, car les directions viennent de changer (ou d'√™tre d√©finies). 
        </p>
        <pre class="brush: python">
dirs = []
for i, j in zip(elements, elements[1:]):
    if j > i and (not dirs or dirs[-1] == '-'):
        dirs.append('+')
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            Que dois-je faire ensuite?
        </p>
    </div>
    <div class="answer">
        <p>
            Compl√©tez l'√©nonc√© conditionnel <b class="code">if</b> avec la partie <b class="code">elif</b> et faites de m√™me pour le sens descendant - <b class="code">j < i</b>.
        </p>
        <pre class="brush: python">
dirs = []
for i, j in zip(elements, elements[1:]):
    if j > i and (not dirs or dirs[-1] == '-'):
        dirs.append('+')
    elif j < i and (not dirs or dirs[-1] == '+'):
        dirs.append('-')
        </pre>
        <p>
            Les deux comparaisons sont strictes, car si les √©l√©ments adjacents sont √©gaux, l'ordre reste le m√™me (il n'est pas n√©cessaire d'ajouter quelques signes identiques l'un apr√®s l'autre) ou ne peut pas encore √™tre d√©termin√© (m√™mes √©l√©ments depuis le d√©but de la liste initiale - il n'est pas n√©cessaire d'ajouter de signe).
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            Que doit renvoyer exactement la fonction?
        </p>
    </div>
    <div class="answer">
        <p>
            Si <b class="code">dirs</b> reste vide (tous les √©l√©ments sont √©gaux) ou comporte un √©l√©ment (toute la s√©quence initiale n'a qu'une seule direction (ascendante ou descendante)), votre fonction doit renvoyer <b class="code">0</b> - aucun changement de direction. Dans le cas contraire, votre fonction doit renvoyer le nombre de changements, qui correspond √† la longueur de <b class="code">dirs</b> moins 1, comme nombre de paires adjacentes √† l'int√©rieur de <b class="code">dirs</b>. 
        </p>
        <p>
            Voici une mani√®re abr√©g√©e d'√©crire toutes ces variantes.
        </p>
        <pre class="brush: python">
return len(dirs) - bool(dirs)
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Alors, √† quoi devrait ressembler ma solution finale?</p>
    </div>
    <div class="answer">
        <p>
            Il vous suffit d'assembler le code et de l'envelopper dans une expression de fonction.
        </p>
        <p>Voici la solution compl√®te:</p>
        <div class="spoiler">
        <pre class="brush: python">
def changing_direction(elements: list[int]) -> int:

    dirs = []
    for i, j in zip(elements, elements[1:]):
        if j > i and (not dirs or dirs[-1] == '-'):
            dirs.append('+')
        elif j < i and (not dirs or dirs[-1] == '+'):
            dirs.append('-')
    
    return len(dirs) - bool(dirs)
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Montrez-moi d'autres solutions!<br />
        parce que je veux √™tre une vraie ü•á Python Ninnjaa!</p>
    </div>
    <div class="answer">
        <p>Bien s√ªr, prenez-le!</p>
        <p>
            Chaque fois que la direction change, le produit de la direction actuelle et de la pr√©c√©dente devient inf√©rieur √† 0: "+"*"-"=="-". Cette solution compte de tels produits. 
        </p>
        <div class="spoiler">
        <pre class="brush: python">
def changing_direction(elements: list[int]) -> int:

    dir = count = 0
    for a, b in zip(elements, elements[1:]):
        dir2 = a - b
        if dir2:
            if dir2 * dir < 0:
                count += 1
            dir = dir2

    return count
        </pre>
        </div>
        <p>
            Cette solution consiste √† cr√©er une liste de toutes les diff√©rences entre des √©l√©ments adjacents non √©gaux, √† cr√©er un g√©n√©rateur de produits entre des diff√©rences adjacentes de la liste pr√©c√©dente, √† compter le nombre de produits n√©gatifs (un signal du changement de direction). 
        </p>
        <div class="spoiler">
        <pre class="brush: python">
def changing_direction(e: list[int]) -> int:

    d = [x - y for x, y in zip(e, e[1:]) if x!= y]

    return sum(x * y < 0 for x, y in zip(d, d[1:]))
        
        </pre>
        </div>
        <p><b>Click "Best solutions" at mission menu and see a lot of other interesting solutions!</b></p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Je vous remercie! Je sais et je comprends mieux maintenant! Tout fonctionne bien!</p>
    </div>
    <div class="answer">
        üëç Heureux de l'apprendre!
    </div>
</div>
</body>
